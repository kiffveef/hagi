#!/bin/bash

# Check if committing to protected branches
# To add more protected branches, add them to the condition below:
# if [ "$BRANCH" = "main" ] || [ "$BRANCH" = "master" ] || [ "$BRANCH" = "custom" ]; then
BRANCH=$(git branch --show-current)

if [ "$BRANCH" = "main" ] || [ "$BRANCH" = "master" ]; then
    echo "‚ùå ERROR: Direct commits to '$BRANCH' branch are not allowed!"
    echo ""
    echo "Please create a feature branch first:"
    echo "  git checkout -b feature/your-feature-name"
    echo ""
    echo "Or move your changes to a new branch:"
    echo "  git checkout -b feature/your-feature-name"
    echo "  git branch -D $BRANCH  # (after confirming the new branch)"
    echo ""
    exit 1
fi

exit 0
